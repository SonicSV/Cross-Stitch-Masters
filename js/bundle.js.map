{"version":3,"sources":["webpack://tapclap/./js/modules/editImg.js","webpack://tapclap/webpack/bootstrap","webpack://tapclap/./js/modules/buttonAdd.js","webpack://tapclap/./js/modules/loadImg.js","webpack://tapclap/./js/script.js"],"names":["canvas","document","getElementById","context","getContext","img","Image","onload","drawImage","width","height","src","localStorage","getItem","ratio","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","input","loadImg","querySelector","addEventListener","reader","FileReader","setItem","result","readAsDataURL","this","files","tag","classes","content","node","createElement","length","classList","add","textContent","element","insertAdjacentElement","click"],"mappings":"kCAAAA,OAASC,SAASC,eAAe,iBACjCC,QAAUH,OAAOI,WAAW,MAK5B,IAAIC,EAAM,IAAIC,MAEdD,EAAIE,OAAS,WACZJ,QAAQK,UAAUH,EAAK,GAAI,GAAII,EAAOC,IAGvCL,EAAIM,IAAMC,aAAaC,QAAQ,gBAE/B,IAAIC,EAAQT,EAAIK,OAASL,EAAII,MACzBC,EAAS,IACTD,EAAQC,EAAOI,EAEfL,EAAQ,MACXK,EAAQT,EAAII,MAAQJ,EAAIK,OAExBA,GADAD,EAAQ,KACOK,KCpBZC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUC,QAG3C,IAAIC,EAASJ,EAAyBE,GAAY,CAGjDC,QAAS,IAOV,OAHAE,EAAoBH,GAAUE,EAAQA,EAAOD,QAASF,GAG/CG,EAAOD,S,qvBCNR,IACGG,EAGAC,E,OCjBNrB,SAASsB,cAAc,gBAAgBC,iBAAiB,UAAU,WAC9D,IAAMC,EAAS,IAAIC,WAiBnBD,EAAOD,iBAAiB,QAAQ,WAC5BZ,aAAae,QAAQ,eAAgBF,EAAOG,WAGhDH,EAAOI,cAAcC,KAAKC,MAAM,ODR9BV,EAAQpB,SAASsB,cENjB,gBFSAD,EAlBM,SAACU,GAA+B,IAGxB,EAHFC,EAA0B,uDAAhB,GAAIC,EAAY,uCACtCC,EAAOlC,SAASmC,cAAcJ,GAUpC,OARIC,EAAQI,SACR,EAAAF,EAAKG,WAAUC,IAAf,UAAsBN,IAGtBC,IACAC,EAAKK,YAAcN,GAGhBC,EAOSM,CAAQ,SAAU,CAAC,OAAQ,aAG3CpB,EAAMqB,sBAAsB,WAAYpB,GAIxCA,EAAQE,iBAAiB,SAFJ,kBAAMH,EAAMsB,W","file":"bundle.js","sourcesContent":["canvas = document.getElementById(\"drawingCanvas\");\r\ncontext = canvas.getContext(\"2d\");\r\n\r\n// let img = document.getElementById(\"photo\");\r\n// context.drawImage(img, 10, 10, 780, 450);\r\n\r\nlet img = new Image();\r\n\r\nimg.onload = function() {\r\n\tcontext.drawImage(img, 10, 10, width, height);\r\n};\r\n\r\nimg.src = localStorage.getItem(\"recent-image\");\r\n\r\nlet ratio = img.height / img.width; //соотношение сторон img\r\nlet height = 640;\r\nlet width = height/ratio;\r\n\r\nif (width > 741) {\r\n\tratio = img.width / img.height; //соотношение сторон img\r\n\twidth = 740;\r\n\theight = width/ratio;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const element = (tag, classes = [], content) => {\r\n    const node = document.createElement(tag)\r\n\r\n    if (classes.length) {\r\n        node.classList.add(...classes)\r\n    }\r\n\r\n    if (content) {\r\n        node.textContent = content\r\n    }\r\n\r\n    return node\r\n}\r\n\r\nexport function buttonAdd(selector) {\r\n    const input = document.querySelector(selector)\r\n\r\n    //const openBtn = element('button', ['btn'], 'Обновить')\r\n    const loadImg = element('button', ['btn'], 'Загрузить')\r\n\r\n    //input.insertAdjacentElement(\"afterend\", openBtn)\r\n    input.insertAdjacentElement(\"afterend\", loadImg)\r\n\r\n    const triggerInput = () => input.click()\r\n\r\n    loadImg.addEventListener('click', triggerInput)\r\n\r\n}\r\n\r\n","export function loadImg() {\r\n    document.querySelector(\"#myFileInput\").addEventListener(\"change\", function () {\r\n        const reader = new FileReader();\r\n\r\n        // reader.height = height;\r\n        // reader.width = width;\r\n\r\n        // let ratio = reader.height / reader.width; //соотношение сторон img\r\n        // let height = 640;\r\n        // let width = height/ratio;\r\n\r\n        // if (width > 741) {\r\n        //     ratio = reader.width / reader.height; //соотношение сторон img\r\n        //     width = 740;\r\n        //     height = width/ratio;\r\n        // }\r\n\r\n        \r\n\r\n        reader.addEventListener(\"load\", () => {\r\n            localStorage.setItem(\"recent-image\", reader.result);\r\n        });\r\n        \r\n        reader.readAsDataURL(this.files[0]);\r\n    });\r\n\r\n    // document.addEventListener(\"DOMContentLoaded\", () => {\r\n    //     localStorage.getItem(\"recent-image\");\r\n    //     // if (recentImageDataUrl) {\r\n    //     //     //document.querySelector('#imgPreview').setAttribute(\"src\", recentImageDataUrl);\r\n    //     //     //document.querySelector('#photo').setAttribute(\"src\", recentImageDataUrl);\r\n    //     // }\r\n    // });\r\n}","// require('es6-promise').polyfill();\r\n// import 'jquery';\r\n// import 'nodelist-foreach-polyfill';\r\n\r\nimport {loadImg} from './modules/loadImg';\r\nimport {buttonAdd} from './modules/buttonAdd';\r\nimport './modules/editImg'\r\n\r\nloadImg();\r\nbuttonAdd(\"#myFileInput\");\r\n\r\n\r\n"],"sourceRoot":""}